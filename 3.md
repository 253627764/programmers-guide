# Chapter 3: Sprites

## What are Sprites
A Sprite is a 2D image that can be animated or transformed by changing the properties
of it, including `rotation`, `position`, `scale`, `color`, etc.

`Sprite` is the base FIXME

## Creating Sprites
There are different ways to create Sprites depending upon what you need to accomplish. 
Let's go through some create methods and talk about each one.

### Creating a Sprite
A `Sprite` can be created by specifying a specific image file to use. 

```cpp
auto mySprite = Sprite::create("mysprite.png");
```

![](3/i1.png "")
This creates a `Sprite` from 'mysprite.png'. The result is a `Sprite` that is the 
specified file and has the same width and height as the file. If the file is 200x200 
the resulting `Sprite` is the same size.

### Creating a Sprite From a SpriteFrame
A `Sprite` can be created from a `SpriteFrame`. A `SpriteFrame` is a specified texture 
and defined by a specific size `Rect`
```cpp
auto frame = SpriteFrame::createWithTexture(texture, rect, offset);

auto mysprite = Sprite::createWithSpriteFrame(frame);
```
![](3/i2.png "")
### Creating a Sprite From SpriteCache
This creates a `Sprite` by pulling it from the SpriteCache. `SpriteCache` is a caching 
class that retains Sprites quicker future access. This prevents needing to load a `Sprite` 
multiple times, over and over. The `Sprite` is loaded once and reatined in the `SpriteCache`
```cpp
// load the Sprite Sheet
auto spritecache = SpriteFrameCache::getInstance();
spritecache->addSpriteFramesWithFile("sprites.plist");

auto mysprite = Sprite::createWithSpriteFrameName("mysprite.png");
```
![](3/i3.png "")
### Creating a Sprite From a Rect
This creates a `Sprite` by specifying a file name and a Rect to use as the selection of what the sprites representation is. `setRect()` is the only way to resize a `Sprite` 
```cpp
auto mySprite = Sprite::create("mysprite.png", Rect(0,0,40,40));
```
![](3/i4.png "")
## Sprite Manipulation
After creating a Sprite, there are a variety of functions that can be applied to it.

Given:
```cpp
auto mySprite = Sprite::create("mysprite.png");
```
![](3/i1.png "")

### Scale
Changes the *Sprites* scale, either by x, y or uniformly for both x and y.
```cpp
// increases X and Y size by 4.0 uniformly
mySprite->setScale(4.0);

// increases just X scale by 4.0
mySprite->setScaleX(4.0);

// increases just Y scale by 4.0
mySprite->setScaleY(4.0);
```
![](3/i5.png "")

### Anchor Point and Position
`Anchor Point` is a point that you set as a way of specifying what part of 
the `Sprite` will be used when setting the position of it.

![](2/2n_level1_anchorpoint_0_0.png "") ![](2/smallSpacer.png "") 
![](2/2n_level1_anchorpoint_05_05.png "") ![](2/smallSpacer.png "") 
![](2/2n_level1_anchorpoint_1_1.png "")

```cpp
// bottom left
mySprite->setAnchorPoint(0, 0);

// middle
mySprite->setAnchorPoint(0.5, 0.5);

// top right
mySprite->setAnchorPoint(1, 1);
```
![](3/i6.png "")
### Skew
Changes the *Sprites* skew, either by x, y or uniformly for both x and y.
```cpp
// adjusts the X and Y skew by 4.0 uniformly
mySprite->setSkew(20.0f);

// adjusts the X skew by 4.0
mySprite->setSkewX(20.0f);

// adjusts the Y skew by 4.0
mySprite->setSkewY(20.0f);
```
![](3/i7.png "")
### Rotation
Changes the *Sprites* rotation, by a positive or negative value.
```cpp
// rotates sprite by +20
mySprite->setRotation(20.0f);

// rotates sprite by -20
mySprite->setRotation(-20.0f);

// rotates sprite by +60
mySprite->setRotation(60.0f);

// rotates sprite by -60
mySprite->setRotation(-60.0f);
```
![](3/i8.png "")
## Sprite Sheets
A sprite sheet a way to combine sprites into a single texture while reducing the
overall size compared to loading each Sprite individually. Why does this matter?
When loading a `Sprite` each hardware platform has constraints of a minimum texture
size that it will need to load. As you can imagine there is a lot of unused space
and this increases memory consumption, draw times and lowers your games frame rate.
Using a `sprite sheet` allows all of your sprites to be condensed filing unused space.
Now only the entire spritesheet must meet the hardwares constraints and can be
loaded all at the same time. This means you will significantly reduce memory usage,
reduce the time it takes OpenGL to draw your sprites and keep the frame rate of
your game high.

Here is an example sprite sheet:

![](3/3_1.png "example SpriteSheet")

Load your sprite sheet into the `SpriteFrameCache`, probably in AppDelegate:
```cpp
auto spritecache = SpriteFrameCache::getInstance();
spritecache->addSpriteFramesWithFile("sprites.plist");
```
A few examples of working with a sprite sheet:

Creating a `Sprite` from the `SpriteFrameCache`
```cpp
auto mySprite = Sprite::createWithSpriteFrameName("mysprite.png");
```
Creating an `Animation` from `SpriteFrameCache`
```cpp
auto anim1 = Animation::create();
anim1->addSpriteFrameWithFile("enemystand.png");
anim1->addSpriteFrameWithFile("enemymove1.png");
anim1->addSpriteFrameWithFile("enemymove2.png");
anim1->addSpriteFrameWithFile("enemymove3.png");
anim1->addSpriteFrameWithFile("enemymove4.png");
anim1->addSpriteFrameWithFile("enemymove5.png");
anim1->addSpriteFrameWithFile("enemyjump.png");

auto animation = Animate::create(anim1);
animation->setDuration(0.2f);
sprite->runAction(RepeatForever::create(animation));
```

### Tools for creating Sprite Sheets

[Cocos Studio](http://www.cocos2d-x.org/wiki/CocoStudio)

[Texture Packer](https://www.codeandweb.com/texturepacker)

[Zwoptex](https://www.zwopple.com/zwoptex/)
