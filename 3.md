# Chapter 3: Sprites

## What are Sprites
A Sprite is a 2D image that can be animated or transformed by changing the properties
of it, including `rotation`, `position`, `scale`, `color`, etc.

## Creating Sprites
There are different ways to create Sprites depending upon what you need to accomplish. You 
can create a `Sprite` from a number of graphic formats including: PNG, JPEG, TIFF. PVRv2, 
PVRv2, ETC1 and others. Let's go through some create methods and talk about each one.

### Creating a Sprite
A `Sprite` can be created by specifying a specific image file to use. 

```cpp
auto mySprite = Sprite::create("mysprite.png");
```

![](3/i1.png "")
This creates a `Sprite` from 'mysprite.png'. The result is a `Sprite` of the graphic you 
loaded. It has the same width and height. If the file is 200x200 the resulting `Sprite` is 
the same size. 

### Creating a Sprite From a Rect
This creates a `Sprite` by specifying a file name and a Rect to use as the selection of 
what the sprites representation is. `setRect()` is the only way to resize a `Sprite` 
```cpp
auto mySprite = Sprite::create("mysprite.png", Rect(0,0,40,40));
```
![](3/i4.png "")

## Creating a Sprite from a Sprite Sheet
A `sprite sheet` a way to combine sprites into a single texture while reducing
the overall size compared to loading each `Sprite` individually. Why does this
matter? When loading a `Sprite` each hardware platform has constraints of a 
minimum texture size that it will need to load. As you can imagine there is 
a lot of unused space and this increases memory consumption, draw times and 
lowers your games frame rate. 

Using a `sprite sheet` allows all of your `Sprite` objects to be condensed filing 
unused space. Now only the entire spritesheet must meet the hardwares constraints 
and can be loaded all at the same time. This means you will significantly reduce 
memory usage, reduce the time it takes OpenGL to draw your sprites and keep the 
frame rate of your game high. Behind the scenes a sprite sheet is a combination 
of 2 files. The first is a file that describes each `Sprite` in the sprite sheet 
and its size in `Rect` format. The second is the actual graphic images compacted 
together fo create as small a file as possible.

When using a `sprite sheet`, it is first loaded, in it's entirety, into the 
`SpriteFrameCache`. `SpriteFrameCache` is a caching class that retains Sprites 
quicker future access. This prevents needing to load a `Sprite` multiple times, 
over and over. The `Sprite` is loaded once and reatined in the `SpriteCache`

Here is an example sprite sheet:

![](3/3_1.png "example SpriteSheet")

Let's tie this all together!

### Loading a Sprite Sheet
Load your `sprite sheet` into the `SpriteFrameCache`, probably in `AppDelegate`:
```cpp
// load the Sprite Sheet
auto spritecache = SpriteFrameCache::getInstance();
spritecache->addSpriteFramesWithFile("sprites.plist");
```
Now that we have a `sprite sheet` loaded into `SpriteFrameCache` we can create `Sprite` objects 
by utilizing it.

### Creating a Sprite from SpriteFrameCache
This creates a `Sprite` by pulling it from the `SpriteFrameCache`. 
```cpp
auto mysprite = Sprite::createWithSpriteFrameName("mysprite.png");
```
![](3/i3.png "")

### Creating a Sprite from a SpriteFrame
A `Sprite` can be created from a `SpriteFrame`. A `SpriteFrame` is a specified texture 
and defined by a specific size `Rect`
```cpp
auto newspriteFrame = SpriteFrame::create("Blue_Front1.png", Rect(0,0,50,50));
        
auto newSprite = Sprite::createWithSpriteFrame(newspriteFrame);
```
![](3/i2.png "")

### Tools for creating Sprite Sheets

[Cocos Studio](http://www.cocos2d-x.org/wiki/CocoStudio)

[Texture Packer](https://www.codeandweb.com/texturepacker)

[Zwoptex](https://www.zwopple.com/zwoptex/)

## Sprite Manipulation
After creating a `Sprite`, there are a variety of properties it has that can be manipulated.

Given:
```cpp
auto mySprite = Sprite::create("mysprite.png");
```
![](3/i1.png "")

### Scale
Changes the *Sprites* scale, either by x, y or uniformly for both x and y.
```cpp
// increases X and Y size by 4.0 uniformly
mySprite->setScale(4.0);

// increases just X scale by 4.0
mySprite->setScaleX(4.0);

// increases just Y scale by 4.0
mySprite->setScaleY(4.0);
```
![](3/i5.png "")

### Anchor Point and Position
`Anchor Point` is a point that you set as a way of specifying what part of 
the `Sprite` will be used when setting the position of it.
```cpp
// bottom left
mySprite->setAnchorPoint(0, 0);

// middle
mySprite->setAnchorPoint(0.5, 0.5);

// top right
mySprite->setAnchorPoint(1, 1);
```
![](3/i6.png "")

### Skew
Changes the *Sprites* skew, either by x, y or uniformly for both x and y.
```cpp
// adjusts the X and Y skew by 4.0 uniformly
mySprite->setSkew(20.0f);

// adjusts the X skew by 4.0
mySprite->setSkewX(20.0f);

// adjusts the Y skew by 4.0
mySprite->setSkewY(20.0f);
```
![](3/i7.png "")

### Rotation
Changes the *Sprites* rotation, by a positive or negative value.
```cpp
// rotates sprite by +20
mySprite->setRotation(20.0f);

// rotates sprite by -20
mySprite->setRotation(-20.0f);

// rotates sprite by +60
mySprite->setRotation(60.0f);

// rotates sprite by -60
mySprite->setRotation(-60.0f);
```
![](3/i8.png "")
